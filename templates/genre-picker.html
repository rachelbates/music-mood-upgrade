{% extends 'base.html' %}
{% block body %}
<div class="grid bg-light py-4">
    <div class="container bg-white shadow">
        <form action ="/save-genre" method="POST" >
            <fieldset>
                <h1 class="py-4 text-align-center">Choose your top 3 genres</h1>
                <div class="genre-picker">
                    {% for genre in genres %}
                        <input class="checkbox display-inline" type="checkbox" name="genre-choice[]" id="{{genre}}"  value="{{genre}}"><span style="padding-left:.5rem;">{{genre}}</span><br>
                    {% endfor %}
                </div>
                <div class="py-5 text-align-center d-flex justify-content-center">
                    <button class="btn-lg btn-primary" type="submit">Submit form</button>
                </div>
            </fieldset>
        </form>
    </div>
</div>
{% endblock %}

{% block js %}
<script>
    var limit = 3;
    $('input.checkbox').on('change', function(evt) {
       if($(this).siblings(':checked').length >= limit) {
           this.checked = false;
       }
    });
    </script>
{% endblock %}